{"version":3,"sources":["skylark-jade.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../skylark-jade.js","sourcesContent":["define([], function () {\n    'use strict';\n    var exports = {};\n    var module = { exports: {} };\n    define(['skylark-langx/skylark'], function (skylark) {\n        var runtime = function () {\n            function guard(value) {\n                return value == null || Array.isArray(value) && value.length === 0 ? '' : value;\n            }\n            function iter(obj, each) {\n                if (!obj || typeof obj !== 'object') {\n                    return '';\n                }\n                var output = '';\n                var keys = Object.keys(obj);\n                var length = keys.length;\n                for (var i = 0; i < length; i += 1) {\n                    var key = keys[i];\n                    output += each(key, i, length, obj[key]);\n                }\n                return output;\n            }\n            function helper(context, helpers, helperName, args) {\n                if (typeof helpers[helperName] !== 'function') {\n                    return '';\n                }\n                try {\n                    var out = helpers[helperName].apply(context, args);\n                    return out || '';\n                } catch (e) {\n                    return '';\n                }\n            }\n            function runtime(helpers, context, templateFunction) {\n                return guard(templateFunction(helpers, context, guard, iter, helper)).toString();\n            }\n            if (typeof Promise.try !== 'function') {\n                Promise.try = {\n                    try: function _try(fn) {\n                        return new Promise(function (resolve) {\n                            return resolve(fn());\n                        });\n                    }\n                }.try;\n            }\n            return runtime;\n        }();\n        var Benchpress = typeof module === 'object' && module.exports ? module.exports : {};\n        Benchpress.runtime = runtime;\n        Benchpress.helpers = {};\n        Benchpress.registerHelper = function registerHelper(name, fn) {\n            Benchpress.helpers[name] = fn;\n        };\n        var escapeCharMap = {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            '\"': '&quot;',\n            \"'\": '&#x27;',\n            '`': '&#x60;',\n            '=': '&#x3D;'\n        };\n        var replaceChar = function replaceChar(c) {\n            return escapeCharMap[c];\n        };\n        var escapeChars = /[&<>\"'`=]/g;\n        Benchpress.registerHelper('__escape', function (str) {\n            if (str == null) {\n                return '';\n            }\n            if (!str) {\n                return String(str);\n            }\n            return str.toString().replace(escapeChars, replaceChar);\n        });\n        Benchpress.cache = {};\n        Benchpress.globals = {};\n        Benchpress.setGlobal = function setGlobal(key, value) {\n            Benchpress.globals[key] = value;\n        };\n        var assign = Object.assign || jQuery.extend;\n        Benchpress.addGlobals = function addGlobals(data) {\n            return assign({}, Benchpress.globals, data);\n        };\n        Benchpress.flush = function flush() {\n            Benchpress.cache = {};\n        };\n        function load(template) {\n            return new Promise(function (resolve, reject) {\n                var promise = Benchpress.loader(template, function (templateFunction) {\n                    resolve(templateFunction);\n                });\n                if (promise && promise.then) {\n                    promise.then(resolve, reject);\n                }\n            });\n        }\n        function render(template, data, block) {\n            data = Benchpress.addGlobals(data || {});\n            return Promise.try(function () {\n                Benchpress.cache[template] = Benchpress.cache[template] || load(template);\n                return Benchpress.cache[template];\n            }).then(function (templateFunction) {\n                if (block) {\n                    templateFunction = templateFunction.blocks && templateFunction.blocks[block];\n                }\n                if (!templateFunction) {\n                    return '';\n                }\n                return runtime(Benchpress.helpers, data, templateFunction);\n            });\n        }\n        function parse(template, block, data, callback) {\n            if (!callback && typeof block === 'object' && typeof data === 'function') {\n                callback = data;\n                data = block;\n                block = null;\n            }\n            if (typeof callback !== 'function') {\n                throw TypeError('Invalid Arguments: callback must be a function');\n            }\n            if (!template) {\n                callback('');\n                return;\n            }\n            render(template, data, block).then(function (output) {\n                return setTimeout(callback, 0, output);\n            }, function (err) {\n                return console.error(err);\n            });\n        }\n        Benchpress.render = render;\n        Benchpress.parse = parse;\n        Benchpress.registerLoader = function registerLoader(loader) {\n            Benchpress.loader = loader;\n        };\n        return skylark.attach('itg.benchpress', Benchpress);\n    });\n    function __isEmptyObject(obj) {\n        var attr;\n        for (attr in obj)\n            return !1;\n        return !0;\n    }\n    function __isValidToReturn(obj) {\n        return typeof obj != 'object' || Array.isArray(obj) || !__isEmptyObject(obj);\n    }\n    if (__isValidToReturn(module.exports))\n        return module.exports;\n    else if (__isValidToReturn(exports))\n        return exports;\n});\ndefine(\"skylark-jade/benchpress\", function(){});\n\ndefine('skylark-jade/main',[\r\n\t\"./benchpress\"\r\n],function(benchpress) {\r\n\r\n\treturn benchpress;\r\n});\ndefine('skylark-jade', ['skylark-jade/main'], function (main) { return main; });\n\n"]}